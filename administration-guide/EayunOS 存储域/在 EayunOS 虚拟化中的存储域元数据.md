# 在 EayunOS 虚拟化中的存储域元数据

EayunOS 企业级虚拟化系统把存储域的信息作为元数据保存在存储域本身中。每个 EayunOS 企业级虚拟化的主要版本都会对存储元数据的实现做进一步的改进。

-   V1 元数据（EayunOS 4.0 之前的版本）：

    每个存储域都包含描述了自身结构的元数据和所有用于支持虚拟机镜像的物理卷的名字。

    此外, 主域即数据存储域还包含了含有存储域池中所有存储域以及物理卷的名称的元数据。该元数据的总共大小限制在了 2 KB 内，所以也就限制了一个池中所能包含的最多的存储域的数量。

    模板和虚拟机的基本数据镜像都是只读的。

    V1 元数据适用于 NFS，iSCSI 和 FC 存储域。

-   V2 元数据（EayunOS 4.0 之前的版本）：

    所有存储域和池的元数据都是以逻辑卷标签的形式来保存的，而不是直接写到逻辑卷中。关于虚拟机磁盘卷的元数据仍然是以一个逻辑卷的形式保存在存储域中。

    物理卷的名称不在包含在元数据中。

    模板和虚拟机的基本数据镜像都是只读的。

    V2 元数据适用于 iSCSI 和 FC 存储域。

-   V3 元数据（EayunOS 4.0、4.1）：

    所有存储域和池的元数据都是以逻辑卷标签的形式来保存的，而不是直接写到逻辑卷中。关于虚拟机磁盘卷的元数据仍然是以一个逻辑卷的形式保存在存储域中。

    虚拟机和模板的基本数据镜像不再是只读的了。这个改变使得实时快照，实时存储迁移和从快照克隆虚拟机成为可能。

    这个版本还支持 unicode 元数据，用来支持非英文的卷名。

    V3 元数据适用于 NFS，GlusterFS，POSIX，iSCSI 和 FC 存储域。

