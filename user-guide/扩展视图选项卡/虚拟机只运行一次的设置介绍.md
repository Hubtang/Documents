# 虚拟机只运行一次的设置介绍

**只运行一次**窗口包括了一个虚拟机上只需要运行一次的引导选项。对于那些需要多次运行的引导选项，请使用**新建虚拟机**窗口中的**引导选项**页。以下表格包括了**只运行一次**窗口中的相关信息。

**虚拟机：只运行一次**

| **项** | **描述** |
| ------ | -------- |
| **引导选项** | 定义了虚拟机的系统引导顺序、运行选项，以及提供了所要安装的操作系统和所需驱动的源代码映像。<ul><li>**附加软盘** - 为虚拟机添加一个软盘。使用这个选项来安装 Windows 驱动。这个软盘映像必须在ISO 存储域中。</li><li>**附加 CD** - 为虚拟机添加一个 ISO 映像。使用这个选项来安装虚拟机的操作系统和应用程序。这个 CD 映像必须在 ISO 存储域中。</li><li>**引导顺序** - 指定在引导虚拟机的时候，引导设备的使用顺序。选择**硬盘**、**CD-ROM** 或**网络**，然后使用**上移**和**下移**来调整它们的顺序。</li><li>**以 Stateless 状态运行** - 在关机后删除所有的改变。这个选项只有在为虚拟机添加了虚拟磁盘后才有效。</li><li>**以暂停模式**启动 - 启动虚拟机后暂停。这个选项适用于不在本地的虚拟机。</li></ul> | 
| **Linux 引导选项** | 以下选项用于直接引导一个 Linux 内核而不通过 BIOS bootloader。<ul><li>**内核路径** - 用来引导虚拟机的内核映像的完全路径。内核映像必须存储在 ISO 域（路径的格式为 **iso://path-to-image**）或主机的本地存储域（路径的格式是 **/data/images**）。</li><li>**initrd 路径** - 用来和前面指定的内核一起使用的 ramdisk 映像的路径。ramdisk 映像必须存储在 ISO 域（路径的格式是 **iso://path-toimage**），或存储在主机的本地存储域（路径格式是 **/data/images**）。</li><li>**内核参数** - 所选的内核在引导时使用的内核命令行参数。</li></ul> |
| **初始运行** | 指定是否使用 Cloud-Init 或 Sysprep 来初始化虚拟机。对于基于 Linux 的虚拟机，您需要选择**初始运行**标签页中的**使用 Cloud-Init** 选项后才能看到可用的选项。对于基于 Windows 的虚拟机，您需要选中**引导选项**标签页中的**附加软盘选项来附加[sysprep]** 软盘。如下所示，特定的选项只对基于Linux 或基于 Windows 的虚拟机有效。<ul><li>**虚拟机主机名** - 虚拟机的主机名。</li><li>**域** - - 虚拟机（Windows）所属的 Active Directory 域。</li><li>**Organization Name** - 虚拟机所属机构的机构名。这个选项的值会在运行 Windows 的机器第一次运行时设置机构名时被显示。</li><li>**Active Directory OU** - 虚拟机 （Windows）在所属 Active Directory 域中的 OU（organizational unit）。</li><li>**Configure Time Zone** - 虚拟机的时区。选择这个选项并从时区列表中选择一个时区。</li><li>**Alternate Credentials** - 您可以使用这个项设置一个另外的用户名和密码。（Windows）</li></ul>**admin 密码**<br/>虚拟机的管理员用户密码。点扩展箭头显示这个选项的设置。(Windows)<ul><li>**使用已经配置的密码**：这个选项会在您指定了一个初始的管理员密码后自动选择。您需要取消选择这个选项后才可以使用 **Admin 密码**和**验证 Admin 密码**项来设定一个新密码。</li><li>**Admin 根密码**：虚拟机的管理员用户密码。输入密码，并在**验证 Admin 密码**项中输入密码进行验证。</li></ul>**认证**<br/>虚拟机验证详情。点箭头来显示这个选项的设置。(Linux)<ul><li>**用户名**：在虚拟机上创建一个新用户帐号，如果没有填写这个项，默认用户 **root** 会被创建。</li><li>**使用已经配置的密码**：这个选项会在您指定了一个初始的 root 密码后自动选择。您需要取消选择这个选项后才可以使用**密码**和**验证密码**项来设定一个新密码。</li><li>**密码**：虚拟机的 root 用户密码。输入密码，并在**验证密码**项中输入密码进行验证。</li><li>**SSH 授权密钥**：加入到虚拟机的验证密钥文件中的 SSH 密钥。</li><li>**重新生成 SSH 密钥**：为这个虚拟机重新生成 SSH 密钥。</li></ul>**自定义语言环境**<br/>虚拟机的自定义语言环境选项。语言环境的设置值必须使用特定的格式，如果 **zh_CN**。点扩展箭头显示这个选项的设置。(Windows)<ul><li>**输入的语言环境**：用户输入的语言环境。</li><li>**UI 语言**：用户界面项(如按钮、菜单)所使用的语言。</li><li>**系统语言环境**：系统整体的语言环境。</li><li>**用户语言环境**：用户的语言环境。</li></ul>**自定义脚本**<ul><li>在虚拟机启动时运行的自定义脚本。在这个项中所输入的脚本会作为自定义 YAML 项被添加到 EayunOS 管理端所产生的文件中。它可以自动进行一些操作，如创建用户和文件，配置 **yum** 仓库、运行命令。如需了解更多关于这个项中的脚本的格式，请参阅[自定义脚本](http://www.ocselected.org/wiki/分类:OVirt特性/Features/vm-init-persistent#自定义脚本)文档。(Linux)</li></ul>**Sysprep**<ul><li>一个自定义的 Sysprep 设置。这个设置必须使用完全非交换式回答文件 (answer file) 的格式。您可以使用默认的回答文件(位于安装 EayunOS 管理端的机器的 **/usr/share/ovirt-engine/conf/sysprep/**目录中)作为一个模版，并根据您的需要进行相应的修改。(Windows)</li></ul>|
| **显示协议** | 连接到虚拟机的协议。<ul><li>**VNC** - 可以被 Linux 虚拟机使用。需要一个 VNC 客户端来连接到使用 VNC 的虚拟机上。您也可以从下拉列表中指定 **VNC 键盘格式**。</li><li>**SPICE** - Liunx 虚拟机，以及除了 Windows 8 和 Windows Server 2012 以外的 Windows 虚拟机推荐使用的协议。</li></ul> |
