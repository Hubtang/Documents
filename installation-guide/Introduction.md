# EayunOS介绍

* [ EayunOS架构 ]( EayunOS架构 )

* [ EayunOS系统组件 ]( EayunOS组件 )

* [ EayunOS资源 ]( EayunOS资源 )

* [ EayunOS API支持 ]( EayunOS API支持 )

* [ 虚拟机介绍 ]( 虚拟机介绍 )

* [ EayunOS支持的虚拟机操作系统列表 ]( EayunOS支持的虚拟机操作系统列表 )

* [ EayunOS安装流程 ]( EayunOS安装流程 )

EayunOS 是易云云计算解决方案的核心产品。

## EayunOS架构

  EayunOS的应用场景由以下部分组成：

  * 虚拟化宿主机使用KVM虚拟化技术。
  * 虚拟化宿主机通过VDSM、QEMU、libvirt等工具来管理本地的虚拟机、网络和存储等各项资源。
  * EayunOS虚拟化管理中心，是整个部署环境的集中管理平台，提供图形界面完成资源的查询、配给和管理。
  * 存储域，提供对于虚拟磁盘、虚拟机模板、ISO镜像的管理。
  * 保存整个部署环境状态和变更的数据库。
  * 可以通过外部的目录服务（Directory Server）提供用户管理和验证。
  * 连接整个部署环境的网络通信，包括物理网络和逻辑网络。


  （图 EayunOS架构预览）

## EayunOS组件

  EayunOS部署方案由多台EayunOS虚拟化宿主机服务器和至少一台EayunOS虚拟化管理中心服务器组成。

  EayunOS虚拟化宿主机服务器上运行基于KVM技术的虚拟机。

  EayunOS虚拟化管理中心服务器提供整个虚拟化环境的管理接口，负责管理虚拟机和存储资源的调度、通信协议、用户会话、虚拟机磁盘镜像以及虚拟机的高可用性。、

  EayunOS虚拟化管理中心通过web界面的管理门户与用户进行交互。

## EayunOS资源

  EayunOS虚拟环境中的资源分为2大类：物理资源和虚拟资源。

  * 物理资源：是指实际存在的物理设备，包括虚拟化宿主机服务器、存储设备等。
  * 虚拟资源：除物理资源之外的所有资源归为虚拟资源，如逻辑网络环境、虚拟机模板等。

  在EayunOS虚拟化产品中，会使用以下和资源相关的术语：

  * 数据中心：对应整个虚拟化环境，是环境中所有物理资源和虚拟资源的集合。
  * 集群：是一组虚拟化宿主机服务器的集合，提供创建虚拟机的资源池。集群中所有的服务器共享相同的网络和存储基础架构，因此集群中的虚拟机可以在各个服务器节点进行迁移。
  * 逻辑网络：是虚拟化环境中网络组织结构，对虚拟化管理中心、虚拟化宿主机、存储设备、虚拟机之间的通信进行管理。
  * 虚拟化宿主机：实际的物理服务器，为虚拟机提供运行运行的环境。虚拟化宿主机隶属于集群，虚拟机可以在同一集群中所有的虚拟化宿主机服务器之间进行迁移。
  * 存储池：特定类型（如iSCSI，光线通道，NFS，POSIXFS等）的镜像仓库。每一个存储池都可以包含多个存储域，用于保存虚拟机磁盘镜像，ISO光盘镜像，虚拟机导入导出的镜像等。
  * 虚拟机：分为虚拟桌面和虚拟服务器2种类型。特权用户可以创建、管理、和删除虚拟机，普通用户只能访问虚拟机。
  * 模板：是指包含了一些默认配置项的虚拟机模型。基于模板创建虚拟机时，默认的配置项从模板中获取。使用模板可以快速创建可用的虚拟机。
  * 虚拟机池：是一组虚拟机的集合。可以根据不同需要建立虚拟机池，比如为企业中的不同部分创建不同的虚拟机池。
  * 快照：保存特定时刻虚拟机操作系统和应用程序状态。在升级虚拟机操作系统或者安装新应用程序，可以先为虚拟机创建一份快照，如果之后出现故障，通过快照可以回滚到建立快照时 的状态。
  * 用户类型：EayunOS支持多种级别的拥有不同权限的管理员和普通用户。系统管理员可以对于物理基础架构（如数据中心、虚拟化宿主机、存储设备）进行管理。普通用户可以访问虚拟机池中可用的虚拟机或者经过管理员配置的独立运行的虚拟机。
  * 事件和监控：虚拟化环境中所有的警告、提示、通知可以帮助管理员监控各项资源的性能和运行状态。
  * 报表：？？

## EayunOS API支持

  EayunOS提供了大量与内部组件交互的接口，是对web界面形式的管理门户的补充，方便开发人员定制功能满足特定的需求。

### 支持的可读可写访问接口

  直接访问以下接口时可以对EayunOS内部组件进行读写访问：

  * REST API
    * EayunOS虚拟化管理中心提供的REST API。
    * 支持情况：完全支持。

  * SDK
    * EayunOS虚拟化管理中心提供的SDK开发工具包。
    * 支持情况：完全支持。

  * VDSM Hooks
    * 通过VDSM hooks的接口开发定制功能。
    * 目前只支持在web界面的管理门户中对虚拟机进行修改的操作。其他情形暂不支持。

### 支持的仅提供只读访问的接口

  直接访问以下接口只能进行只读访问：

  * EayunOS虚拟化管理中心历史数据库
    * 支持对EayunOS虚拟化管理中心进行只读访问。
    * 不支持写入操作。

  * EayunOS虚拟化宿主机上的libvirt
    * 支持通过virsh -r命令以只读的方式访问EayunOS虚拟化宿主机上的libvirt。
    * 不支持写入操作。

### 不支持的接口

  以下接口的使用对于EayunOS是不支持的。

  * vdsClient命令
    * 直接使用vdsClient命令和EayunOS虚拟化宿主机进行交互，对于直接用户是不支持的。

  * EayunOS虚拟化宿主机控制台
    * 直接操作EayunOS虚拟化宿主机时，应该使用默认提供的管理界面。通过其他控制台，对于直接用户是不支持的。

  * EayunOS虚拟化管理中心数据库
    * 直接操作EayunOS虚拟化管理中心数据库是不支持的。

## 虚拟机介绍

  虚拟机是对计算机系统的软件实现。EayunOS虚拟化环境中可以创建虚拟桌面系统和虚拟服务器系统。

  虚拟机可以对IT系统的事务和负载进行统一和增强。传统的IT架构中，工作负载分布在不同的硬件上，需要一一进行管理和维护。同等规模的IT系统使用虚 拟化技术可以大幅减低硬件设备的数量以及管理的复杂度。

## EayunOS支持的虚拟机操作系统列表

  EayunOS支持在虚拟机中安装下列操作系统：

|                 操作系统              |           CPU架构            |       SPICE支持       |
|---------------------------------------|------------------------------|-----------------------|
|红帽企业Linux 3	                |32位，64位	               |支持                   |
|红帽企业Linux 4	                |32位，64位	               |支持                   |
|红帽企业Linux 5	                |32位，64位	               |支持                   |
|红帽企业Linux 6	                |32位，64位	               |支持                   |
|红帽企业Linux 7	                |64位    	               |支持                   |
|SUSE企业Linux 10（创建虚拟机时，操作系统类型选择 “其他Linux”）|32位，64位                    |不支持                 |
|SUSE企业Linux 11（SPICE驱动需要由发行版厂商提供）|32位，64位                    |不支持                 |
|Debian 7                               |                              |                       |
|FreeBSD 9.2                            |32位，64位                    |                       |
|Ubuntu 12.04                           |32位，64位                    |支持                   |
|Ubuntu 12.10                           |32位，64位                    |支持                   |
|Ubuntu 13.04                           |32位，64位                    |支持                   |
|Ubuntu 13.10                           |32位，64位                    |支持                   |
|Windows XP（sp3及更新版本）            |32位                          |支持                   |
|Windows 7                              |32位，64位                    |支持                   |
|Windows 8                              |32位，64位                    |不支持                 |
|Windows Server 2003（sp2及更新版本）   |32位，64位                    |支持                   |
|Windows Server 2008                    |32位，64位                    |支持                   |
|Windows Server 2008 R2                 |64位	                       |支持                   |
|Windows Server 2012 R2                 |64位                          |不支持                 |

## 安装流程

  要部署一套可用的EayunOS虚拟化环境，需要对一系列的组件进行按照和配 置，基本流程如下：

  （图 安装流程）



